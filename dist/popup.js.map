{
  "version": 3,
  "sources": ["../src/shared/constants.ts", "../src/popup/popup.ts"],
  "sourcesContent": ["import { Platform } from './types';\n\nexport const DEFAULT_REPORT_LIMIT_THRESHOLD = 5;\n\nexport const STORAGE_KEYS = {\n  REPORTER_HASH: 'reporter_hash',\n  SETTINGS: 'settings',\n} as const;\n\nexport const PLATFORM_SELECTORS: Record<Platform, string> = {\n  twitter: 'article[data-testid=\"tweet\"]',\n  youtube: 'ytd-rich-item-renderer, ytd-video-renderer',\n  linkedin: '[data-urn*=\"urn:li:activity:\"]',\n  website: 'body',\n};\n\nexport const PLATFORM_DOMAINS: Record<Platform, string[]> = {\n  twitter: ['twitter.com', 'x.com'],\n  youtube: ['youtube.com'],\n  linkedin: ['linkedin.com'],\n  website: [],\n};\n\nexport const MESSAGE_TYPES = {\n  REPORT_SLOP: 'REPORT_SLOP',\n  REPORT_WEBSITE: 'REPORT_WEBSITE',\n  GET_SLOP_STATUS: 'GET_SLOP_STATUS',\n  GET_SETTINGS: 'GET_SETTINGS',\n  SET_SETTINGS: 'SET_SETTINGS',\n  SUBMIT_FEEDBACK: 'SUBMIT_FEEDBACK',\n} as const;\n", "import { STORAGE_KEYS, DEFAULT_REPORT_LIMIT_THRESHOLD } from '../shared/constants.js';\nimport { MessageType } from '../shared/types.js';\n\nconst form = document.getElementById('settingsForm') as HTMLFormElement | null;\nconst reportLimitInput = document.getElementById('reportLimit') as HTMLInputElement | null;\nconst saveButton = document.getElementById('saveButton') as HTMLButtonElement | null;\nconst statusDiv = document.getElementById('status') as HTMLDivElement | null;\n\nconst feedbackForm = document.getElementById('feedbackForm') as HTMLFormElement | null;\nconst feedbackInput = document.getElementById('feedbackText') as HTMLTextAreaElement | null;\nconst feedbackButton = document.getElementById('feedbackButton') as HTMLButtonElement | null;\nconst feedbackStatus = document.getElementById('feedbackStatus') as HTMLDivElement | null;\n\nconst supportButton = document.getElementById('supportButton') as HTMLButtonElement | null;\n\nconst showStatus = (message: string, isError = false, target?: HTMLDivElement | null) => {\n  const destination = target ?? statusDiv;\n  if (!destination) return;\n\n  destination.textContent = message;\n  destination.className = `status ${isError ? 'error' : 'success'}`;\n  destination.style.display = 'block';\n  \n  setTimeout(() => {\n    destination.style.display = 'none';\n  }, 3000);\n};\n\nconst loadSettings = async () => {\n  try {\n    const settings = await chrome.storage.sync.get(STORAGE_KEYS.SETTINGS);\n    const storedSettings = settings[STORAGE_KEYS.SETTINGS] || {};\n    \n    if (reportLimitInput) {\n      if (storedSettings.reportLimitThreshold) {\n        reportLimitInput.value = storedSettings.reportLimitThreshold.toString();\n      } else {\n        reportLimitInput.value = DEFAULT_REPORT_LIMIT_THRESHOLD.toString();\n      }\n    }\n  } catch (error) {\n    // logger.error('Error loading settings:', error);\n  }\n};\n\nform?.addEventListener('submit', async (e) => {\n  e.preventDefault();\n  \n  if (!reportLimitInput || !saveButton) {\n    return;\n  }\n\n  saveButton.disabled = true;\n  saveButton.textContent = 'Saving...';\n  \n  try {\n    const reportLimit = parseInt(reportLimitInput.value, 10);\n    \n    if (isNaN(reportLimit) || reportLimit < 1) {\n      showStatus('Please enter a valid number (minimum 1)', true);\n      saveButton.disabled = false;\n      saveButton.textContent = 'Save Settings';\n      return;\n    }\n    \n    await chrome.storage.sync.set({\n      [STORAGE_KEYS.SETTINGS]: {\n        reportLimitThreshold: reportLimit,\n      },\n    });\n    \n    showStatus('Settings saved successfully!');\n  } catch (error) {\n    console.error('Error saving settings:', error);\n    showStatus('Error saving settings', true);\n  } finally {\n    saveButton.disabled = false;\n    saveButton.textContent = 'Save Settings';\n  }\n});\n\nfeedbackForm?.addEventListener('submit', async (e) => {\n  e.preventDefault();\n\n  if (!feedbackInput || !feedbackButton || !feedbackStatus) {\n    return;\n  }\n\n  const feedback = feedbackInput.value.trim();\n\n  if (!feedback) {\n    showStatus('Please share feedback before submitting.', true, feedbackStatus);\n    return;\n  }\n\n  feedbackButton.disabled = true;\n  feedbackButton.textContent = 'Sending...';\n\n  try {\n    const response = await chrome.runtime.sendMessage({\n      type: MessageType.SUBMIT_FEEDBACK,\n      payload: { feedback },\n    });\n\n    if (response?.success) {\n      showStatus('Feedback sent. Thank you!', false, feedbackStatus);\n      feedbackInput.value = '';\n    } else {\n      const errorMessage = response?.error || 'Could not send feedback.';\n      showStatus(errorMessage, true, feedbackStatus);\n    }\n  } catch (error) {\n    // logger.error('Error sending feedback:', error);\n    showStatus('Could not send feedback.', true, feedbackStatus);\n  } finally {\n    feedbackButton.disabled = false;\n    feedbackButton.textContent = 'Send feedback';\n  }\n});\n\nconst initializeKoFi = () => {\n  if (typeof (window as any).kofiWidgetOverlay !== 'undefined') {\n    (window as any).kofiWidgetOverlay.draw('stopslop', {\n      'type': 'floating-chat',\n      'floating-chat.donateButton.text': 'Support Us',\n      'floating-chat.donateButton.background-color': '#00b9fe',\n      'floating-chat.donateButton.text-color': '#fff'\n    });\n  }\n};\n\nsupportButton?.addEventListener('click', () => {\n  window.open('https://ko-fi.com/stopslop', '_blank');\n});\n\nloadSettings();\n\n// Initialize Ko-Fi widget after DOM is ready\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', initializeKoFi);\n} else {\n  initializeKoFi();\n}\n"],
  "mappings": "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",
  "names": ["DEFAULT_REPORT_LIMIT_THRESHOLD", "STORAGE_KEYS", "form", "reportLimitInput", "saveButton", "statusDiv", "feedbackForm", "feedbackInput", "feedbackButton", "feedbackStatus", "supportButton", "showStatus", "message", "isError", "target", "destination", "loadSettings", "storedSettings", "STORAGE_KEYS", "DEFAULT_REPORT_LIMIT_THRESHOLD", "reportLimit", "error", "feedback", "response", "errorMessage", "initializeKoFi"]
}

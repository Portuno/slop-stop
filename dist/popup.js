"use strict";(()=>{var d=5,m={REPORTER_HASH:"reporter_hash",SETTINGS:"settings"};var S=document.getElementById("settingsForm"),l=document.getElementById("reportLimit"),r=document.getElementById("saveButton"),T=document.getElementById("status"),c=document.getElementById("feedbackForm"),E=document.getElementById("feedbackText"),a=document.getElementById("feedbackButton"),i=document.getElementById("feedbackStatus"),o=(t,e=!1,s)=>{let n=s??T;n&&(n.textContent=t,n.className=`status ${e?"error":"success"}`,n.style.display="block",setTimeout(()=>{n.style.display="none"},3e3))},u=async()=>{try{let e=(await chrome.storage.sync.get(m.SETTINGS))[m.SETTINGS]||{};l&&(e.reportLimitThreshold?l.value=e.reportLimitThreshold.toString():l.value=d.toString())}catch{}};S?.addEventListener("submit",async t=>{if(t.preventDefault(),!(!l||!r)){r.disabled=!0,r.textContent="Saving...";try{let e=parseInt(l.value,10);if(isNaN(e)||e<1){o("Please enter a valid number (minimum 1)",!0),r.disabled=!1,r.textContent="Save Settings";return}await chrome.storage.sync.set({[m.SETTINGS]:{reportLimitThreshold:e}}),o("Settings saved successfully!")}catch(e){console.error("Error saving settings:",e),o("Error saving settings",!0)}finally{r.disabled=!1,r.textContent="Save Settings"}}});c?.addEventListener("submit",async t=>{if(t.preventDefault(),!E||!a||!i)return;let e=E.value.trim();if(!e){o("Please share feedback before submitting.",!0,i);return}a.disabled=!0,a.textContent="Sending...";try{let s=await chrome.runtime.sendMessage({type:"SUBMIT_FEEDBACK",payload:{feedback:e}});if(s?.success)o("Feedback sent. Thank you!",!1,i),E.value="";else{let n=s?.error||"Could not send feedback.";o(n,!0,i)}}catch{o("Could not send feedback.",!0,i)}finally{a.disabled=!1,a.textContent="Send feedback"}});u();})();
//# sourceMappingURL=popup.js.map
